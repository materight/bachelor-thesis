\chapter{State of art}
\label{cha:state_of_art}

This chapter gives an overview of the available methods of time series forecasting and queue analysis.

\section{Terminology}
\label{sec:terminology}

\begin{itemize}
  \item \emph{Inflow/outflow rate}: The number of customers that enter/exit the supermarket in a given interval.
  \item \emph{Arrival rate}: The number of customers that arrive at the checkouts in a given interval.
  \item \emph{Service rate}: The maximum number of customers that can be served by each terminal in a given interval.
  \item \emph{Dwell time}: Time spent by a customer in the supermarket.
\end{itemize}


\section{Time series forecasting}
\label{sec:time_series_forecasting}

A \emph{time series} is a collection of observations made sequentially through time. \emph{Time series forecasting} is the use of a model to predict future values based on previous observations.

A time series can be decomposed into four components:
\begin{itemize}
  \item \emph{Trend}: Linear/nonlinear increasing or decreasing behavior of the series over time.
  \item \emph{Seasonality}: Repeating patterns or cycles behavior over time.
  \item \emph{Noise}: Variability of the observations not explainable by the model.
\end{itemize}

The following sections describes different techniques that can be used to obtain a forecast of the future values.


\subsection{Exponential smoothing}
In the \emph{Simple exponential smoothing} technique, the forecasted values are based on a weighted average of the previous values, where the most recent observations are given more importance using larger weights \cite{hyndman}.

A more complex implementation is the \emph{Holt-Winters exponential smoothing} approach, which is able to decompose the time series into level, trend and seasonal component, giving a more precise forecast. However, this methods are unable to model more complex series with multiple seasonality patterns, as in a supermarket inflow rate.

Taylorâ€™s \emph{double seasonal exponential smoothing} method \cite{taylor} was developed to forecast time series with two seasonal cycles: a short one that repeats itself many times within a longer one.


\subsection{Artificial Neural Networks}


\subsection{ARIMA models}
\emph{ARIMA (AutoRegressive Integrated Moving Average)} models provide another approach to time series forecasting. Exponential smoothing and ARIMA models are the two most widely used approaches to time series forecasting, and provide complementary approaches to the problem. While exponential smoothing models are based on a description of the trend and seasonality in the data, ARIMA models aim to describe the autocorrelations in the data.\cite{hyndman}

\emph{AutoRegressive} means the model use the relationship between an observations and some number of lagged previous observations to generate a linear regression model. \emph{Integrated} refers to the use of differencing of raw observations (e.g. subtracting an observation from an observation at the previous time step) in order to make the time series stationary. A stationary time series has mean, variance and autocorrelation constant over time. \emph{Moving Average} means that the model uses the dependency between an observation and the residual error from a moving average model applied to lagged observations.

The parameters of the ARIMA model are defined as follows:
\begin{itemize}
  \item p: The number of lagged observations included in the model, also called the lag order.
  \item d: The number of times that the raw observations are differenced, also called the degree of differencing.
  \item q: The size of the moving average window, also called the order of moving average.
\end{itemize}

A simple version of the ARIMA model can be used to forecast only non-seasonal time series, but it can be extended to model seasonal patterns (SARIMA, Seasonal ARIMA). However, only a single seasonal effect can be modelled with SARIMA. A solution is to use the SARIMAX model, where the seasonal effect are used with Fourier terms as exogenous variables. This gives a better approximation and other exogenous variables could be considered (i.e. weather) to further improve it.


\section{Queueing theory}
\label{sec:queueing_theory}

\emph{Queueing theory} is the mathematical study of waiting lines, or queues. A queueing model is constructed so that queue lengths and waiting time can be predicted.

There are various types of queueing models, but the best representation of a supermarket queue is probably given by the \emph{M/M/c} model, that represent a system with an infinite queue capacity, where the inflow rate follow a Poisson distribution and the service rate of the c servers follow an exponential distribution. The customers are served in FCFS order (First Come First Served).

This model could be used to predict the queue length given the arrival rate and service time distributions.
The main issue with this analytical approach in the context of supermarkets is that the arrival time and service time cannot be expressed with a probability distribution with constant mean, since this rates change greatly between different hours and days. The formulae provided can still be used if the measurements are in discrete intervals.



\section{Literature review}
\label{sec:literature_review}

There are various studies that try to analyze and predict the queue length in different settings.

Aksu H. \cite{aksu} proposed a

\section{}